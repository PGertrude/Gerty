[aliases]
n0=# return $chr(35)
n1=$ return $chr(36)
n2=% return $chr(37)
n3=| return $chr(124)
n4=; $checkline(out,string)
n5=_network {
n6=  var %x = 1
n7=  while (%x <= $lines(botlist.txt)) {
n8=    var %bot = $read(botlist.txt,%x)
n9=    if $comchan(%bot,#gerty) { .ctcp %bot rawcommand $1- }
n10=    inc %x
n11=  }
n12=}
n13=alias price {
n14=  var %item = $replace($1,$chr(32),+)
n15=  if ($hget(prices,%item)) return $v1
n16=  var %socket = $+(price.,$r(0,9),$r(0,9),$r(0,9),$r(0,9),$r(0,9))
n17=  var %url = http://p-gertrude.rsportugal.org/gerty/price.php?type=price&item= $+ %item
n18=  var %string = $downloadstring(%socket, %url)
n19=  if ($numtok($gettok(%string,1,10),9) == 2) {
n20=    hadd -m prices $replace($gettok($gettok(%string,1,10),1,9),$chr(32),+) $gettok($gettok(%string,1,10),2,9)
n21=    return $gettok($gettok(%string,1,10),2,9)
n22=  }
n23=  return 0
n24=}
n25=checkline {
n26=  var %out $1, %string $2, %output, %y = 1
n27=  if ($prop == word) {
n28=    if ($len(%string) < 400) { %out %string | return }
n29=    while (%string && %y < 10) {
n30=      var %x = 1, %z = 1
n31=      while ($len(%output) < 400 && %z < 10) {
n32=        %output = %output $gettok(%string,%x,32)
n33=        inc %x
n34=        inc %z
n35=      }
n36=      %out %output
n37=      $replace(%string,%output,$null)
n38=      inc %y
n39=    }
n40=  }
n41=}
n42=tomorrow {
n43=  if ($day == Monday) { return Tuesday }
n44=  if ($day == Tuesday) { return Wednesday }
n45=  if ($day == Wednesday) { return Thursday }
n46=  if ($day == Thursday) { return Friday }
n47=  if ($day == Friday) { return Saturday }
n48=  if ($day == Saturday) { return Sunday }
n49=  if ($day == Sunday) { return Monday }
n50=}
n51=host {
n52=  if ($1 == timezone) {
n53=    return $readini(Gerty.Config.ini,host,tzone)
n54=  }
n55=  if ($1 == offset) {
n56=    return $readini(Gerty.Config.ini,host,offset)
n57=  }
n58=  var %hour = $regsubex($time,/^(\d{2}).+$/,$calc(\1 - $host(offset)))
n59=  if ($1 == time) {
n60=    if (%hour > 24) { %hour = $calc(24 - %hour) }
n61=    return $regsubex($time,/^\d{2}:/,%hour $+ :)
n62=  }
n63=  if ($1 == day) {
n64=    if (%hour > 24) { return $tomorrow }
n65=    return $day
n66=  }
n67=  if ($1 == date) {
n68=  }
n69=  if ($1 == month) {
n70=  }
n71=}
n72=bot {
n73=  ; bot ID
n74=  if ($1 == id) {
n75=    noop $regex($me,/(\[.{2}\]|)/i)
n76=    return $iif($regml(1),$v1,[00])
n77=  }
n78=  ; Current Users
n79=  if ($1 == users) {
n80=    var %x 1
n81=    while ($chan(%x)) {
n82=      var %a $calc(%a + $nick($chan(%x),0))
n83=      var %b %b $chan(%x) $+ $chr(91) $+ $nick($chan(%x),0) $+ $chr(93)
n84=      inc %x
n85=    }
n86=    return %a
n87=  }
n88=  ; Current Channels
n89=  if ($1 == chanlist) {
n90=    var %x = 2, %max = $chan(0), %chans = $chan(1)
n91=    while (%x <= %max) {
n92=      %chans = %chans $+ , $chan(%x)
n93=      inc %x
n94=    }
n95=    return %chans
n96=  }
n97=}
n98=; $command(%thread[command ID],var)
n99=; returns info on a command/user
n100=command {
n101=  if (!$2) { return }
n102=  return $hget($1,$2)
n103=}
n104=; _fillcommand %thread[Command ID] trigger nick chan command
n105=; creates command info
n106=_fillcommand {
n107=  if (!$5) { return }
n108=  var %thread = $1
n109=  hadd -m %thread out $saystyle($2,$3,$4)
n110=  hadd -m %thread from $3
n111=  hadd -m %thread from.RSN $rsn($3)
n112=  hadd -m %thread from.IsAdmin $admin($3)
n113=  hadd -m %thread command $5
n114=}
n115=; _clearcommand %thread[command ID]
n116=; removes command info
n117=_clearcommand {
n118=  if (!$1) { return }
n119=  var %thread = $1
n120=  hfree %thread
n121=}
n122=TimeToday {
n123=  var %today, %week, %month, %year
n124=  if ($duration($time) >= 25200) {
n125=    %today = $calc($duration($time) - 25200)
n126=  }
n127=  else {
n128=    %today = $calc($duration($time) + 61200)
n129=  }
n130=  if ($duration($time) < 25200 && $day == sunday) {
n131=    %week = $calc(579600 + %today)
n132=  }
n133=  else if ($duration($time) < 25200 && $day != sunday) {
n134=    %week = $calc($replace($day,Monday,0,Tuesday,1,Wednesday,2,Thursday,3,Friday,4,Saturday,5) * 86400 + %today )
n135=  }
n136=  else if ($duration($time) >= 25200) {
n137=    %week = $calc($replace($day,Sunday,0,Monday,1,Tuesday,2,Wednesday,3,Thursday,4,Friday,5,Saturday,6) * 86400 + %today )
n138=  }
n139=  if ($duration($time) < 25200 && $date(dd) == 01) {
n140=    %month = $calc($replace($date(mmm),Jan,2394000,Feb,2653200,Mar,2566800,Apr,2653200,May,2566800,Jun,2653200,Jul,2653200,Aug,2566800,Sep,2653200,Oct,2566800,Nov,2653200,Dec,2653200) + %today)
n141=  }
n142=  else {
n143=    %month = $calc(($gettok($date,1,47) - 1) * 86400 + %today )
n144=  }
n145=  %year = $calc($ctime($date $time) - $ctime(January 1 $date(yyyy) 07:00:00))
n146=  return %today %week %month %year
n147=}
n148=FormatWith {
n149=  var %out, %x = 0
n150=  while (%x <= $calc($0 - 2)) {
n151=    var % [ $+ [ %x ] ] $ [ $+ [ $calc(%x + 2) ] ]
n152=    inc %x
n153=  }
n154=  %out = $regsubex($1,/(^|[^\\]){(\d+)}/g,\1$($chr(37) $+ \2,2))
n155=  %out = $replace(%out,\b,$chr(2),\c,$chr(3),\o,$chr(15),\u,$chr(31))
n156=  return $regsubex(%out,(?:\\({)|\\(})),\1)
n157=}
n158=Ascii-Hex {
n159=  var %string = $1-, %x = 1, %output, %char
n160=  while (%x <= $len(%string)) {
n161=    %char = $asc($mid(%string,%x,1))
n162=    %output = %output $base(%char,10,16)
n163=    inc %x
n164=  }
n165=  return %output
n166=}
n167=Hex-Ascii {
n168=  var %string = $1-, %x = 1, %output, %char
n169=  while (%x <= $len($remove(%string,$chr(32)))) {
n170=    %char = $gettok(%string,%x,32)
n171=    %output = %output $+ $chr($base(%char,16,10))
n172=    inc %x
n173=  }
n174=  return %output
n175=}
n176=versions {
n177=  return $readini(versions.ini,versions,$1)
n178=}
n179=chanset {
n180=  return $readini(chan.ini,$1,$2)
n181=}
n182=userset {
n183=  return $readini(user.ini,$1,$2)
n184=}
n185=downloadstring {
n186=  .comopen $1 msxml2.xmlhttp
n187=  var %p = $com($1 ,open,1,bstr,get,bstr,$2,bool,-1)
n188=  %p = $com($1 ,send,1)
n189=  %p = $com($1 ,responseText,2)
n190=  %p = $com($1 ).result
n191=  .comclose $1
n192=  return %p
n193=}
n194=download.break {
n195=  .comopen $2 msxml2.xmlhttp
n196=  noop $com($2 ,open,1,bstr,get,bstr,$3,bool,0)
n197=  noop $comcall($2 ,noop $!com($1,responseText,2) $(|,) $1 $!com($1).result $(|,) .comclose $!1,send,1)
n198=}
n199=trim return $regsubex($1-,/^\s*(\S+)\s*$/,\1)
n200=c {
n201=  if $1 isnum {
n202=    if $len($1) == 2 return $chr(3) $+ $1
n203=    else return $+($chr(3),0,$1)
n204=  }
n205=  else return $chr(15)
n206=}
n207=saystyle {
n208=  ;trigger = $1, nick = $2, chan = $3
n209=  !if (!$4 && $3 == #gerty && $me != Gerty && Gerty ison $3) { halt }
n210=  !if (!$3) { !return !.msg $nick }
n211=  !if (!$readini(chan.ini,$3,public)) { !return $iif($1 == @,!.msg $3,!.notice $2) }
n212=  !if ($readini(chan.ini,$3,public) == on) { !return $iif($1 == @,!.msg $3,!.notice $2) }
n213=  !if ($readini(chan.ini,$3,public) == off) { !return !.notice $2 }
n214=  !if ($readini(chan.ini,$3,public) == voice) { !return $iif($2 isvoice $3 || $2 ishop $3 || $2 isop $3,$iif($1 == @,!.msg $3,!.notice $2),!.notice $2) }
n215=  !if ($readini(chan.ini,$3,public) == half) { !return $iif($2 ishop $3 || $2 isop $3,$iif($1 == @,!.msg $3,.notice $2),!.notice $2) }
n216=}
n217=fact {
n218=  if ($1 isnum) {
n219=    var %p = 500
n220=    if ($1 > 0) {
n221=      var %y = $calc($replace($1,k,*1000,m,*1000000))
n222=      var %x = $calc(%y - 1)
n223=      while (%x && %p) {
n224=        var %y = $calc(%y * %x)
n225=        dec %x 1
n226=        dec %p
n227=      }
n228=      return %y
n229=    }
n230=    if ($1 == 0) {
n231=      return 1
n232=    }
n233=  }
n234=}
n235=rccom {
n236=  if ($regex($1,$+(/^,$chr(40),$readini(rccomp.ini,member,nick),$chr(41),/i))) { return tracked }
n237=}
n238=tracked {
n239=  if ($regex($1,$+(/^,$chr(40),$readini(tracked.ini,tracked,nick),$chr(41),/i))) { return _tracked }
n240=}
n241=admin {
n242=  if ($regex($closedrsn($1),$+(/^,$chr(40),$readini(Gerty.Config.ini,admin,rsn),$chr(41),/i))) { return admin }
n243=}
n244=closedrsn {
n245=  var %inputnick = $replace($strip($1),$chr(32),_)
n246=  %inputnick = $iif($right(%inputnick,1) == &,$left(%inputnick,-1),%inputnick)
n247=  if ($readini(rsn.ini,$address(%inputnick,3),rsn)) { return $readini(rsn.ini,$address(%inputnick,3),rsn) }
n248=}
n249=rsn {
n250=  var %inputnick = $replace($strip($1),$chr(32),_)
n251=  %inputnick = $iif($right(%inputnick,1) == &,$left(%inputnick,-1),%inputnick)
n252=  var %rsn
n253=  if ($readini(rsn.ini,$address(%inputnick,3),rsn)) { %rsn = $readini(rsn.ini,$address(%inputnick,3),rsn) }
n254=  else {
n255=    if ($readini(rsn.ini,$regsubex(%inputnick,/\W/Sg,_),rsn)) { %rsn = $readini(rsn.ini,$regsubex(%inputnick,/\W/Sg,_),rsn) }
n256=    else { %rsn = $regsubex(%inputnick,/\W/Sg,_) }
n257=  }
n258=  return $caps($regsubex(%rsn,/\W/g,_))
n259=}
n260=capwords {
n261=  var %t
n262=  var %x = 0
n263=  while $1 != $numtok($1-,32) {
n264=    inc %x 1
n265=  var %t = %t $upper($left($gettok($1-,1,32),1)) $+ $right($gettok($1-,1,32),-1) $gettok($1-,2-,32) } return %t
n266=}
n267=caps {
n268=  var %regex = $regsubex($lower($1-),/((^[^a-z])([a-z])|(\w\W+)([a-z])|(\W[^a-z])(\w))/gi,\2 $+ $upper(\3))
n269=  %regex = $capwords($regsubex(%regex,/(\w[^a-zA-Z0-9]+)([a-z])/g,\1 $+ $upper(\2)))
n270=  return $capwords($regsubex(%regex,/(\w[^a-zA-Z0-9]+)([a-z])/g,\1 $+ $upper(\2)))
n271=}
n272=nohtml {
n273=  var %x, %i = $regsub($1-,/(^[^<]*>|<[^>]*>|<[^>]*$)/g,$null,%x)
n274=  %x = $replace($remove(%x,&nbsp;,$chr(9)),&quot;,$chr(34),&amp;,&,&lt;,<,&gt;,>,&#8242;,:,&quot;,")
n275=  return %x
n276=}
n277=urlencode {
n278=  var %a = $regsubex($$1,/([^\w\s])/Sg,$+(%,$base($asc(\t),10,16,2)))
n279=  return $replace(%a,$chr(32),$chr(43))
n280=}
n281=smart {
n282=  if ($regex($1,/^(at|att|attack)$/Si)) { return Attack }
n283=  if ($regex($1,/^(st|str|strength)$/Si)) { return Strength }
n284=  if ($regex($1,/^(de|def|defen[cs]e)$/Si)) { return Defence }
n285=  if ($regex($1,/^(hp|hits|hitpoint|hitpoints)$/Si)) { return Hitpoints }
n286=  if ($regex($1,/^(pr|pray|prayer)$/Si)) { return Prayer }
n287=  if ($regex($1,/^(ra|range|ranged|ranging)$/Si)) { return Ranged }
n288=  if ($regex($1,/^(ma|mage|magic)$/Si)) { return Magic }
n289=  if ($regex($1,/^(rc|runecraft|runecrafting|rune)$/Si)) { return Runecraft }
n290=  if ($regex($1,/^(con|cons|const|constr|construction)$/Si)) { return Construction }
n291=  if ($regex($1,/^(ag|agil|agility|agi)$/Si)) { return Agility }
n292=  if ($regex($1,/^(he|herb|herblore)$/Si)) { return Herblore }
n293=  if ($regex($1,/^(th|thieve|theive|thief|theif|thieving|theiving)$/Si)) { return Thieving }
n294=  if ($regex($1,/^(cr|craft|crafting)$/Si)) { return Crafting }
n295=  if ($regex($1,/^(sm|smd|smith|smithing)$/Si)) { return Smithing }
n296=  if ($regex($1,/^(hu|hunt|hunter|hunting)$/Si)) { return Hunter }
n297=  if ($regex($1,/^(fa|farm|farming)$/Si)) { return Farming }
n298=  if ($regex($1,/^(sl|slay|slayer|slaying)$/Si)) { return Slayer }
n299=  if ($regex($1,/^(mi|mine|mining)$/Si)) { return Mining }
n300=  if ($regex($1,/^(fm|fming|firemake|firemaking)$/Si)) { return Firemaking }
n301=  if ($regex($1,/^(fi|fish|fishing)$/Si)) { return Fishing }
n302=  if ($regex($1,/^(fl|fletch|fletching)$/Si)) { return Fletching }
n303=  if ($regex($1,/^(wc|wcing|wood|woodcutting|woodcut)$/Si)) { return Woodcutting }
n304=  if ($regex($1,/^(cok|cook|cooking|coo)$/Si)) { return Cooking }
n305=  if ($regex($1,/^(su|sum|summy|summon|summoning)$/Si)) { return Summoning }
n306=  if ($regex($1,/^(oa|overall|total)$/Si)) { return Overall }
n307=  if ($regex($1,/^(bh|bo|bount|bounty|bountyhunter|Bounty Hunter)$/Si)) { return Bounty Hunter }
n308=  if ($regex($1,/^(bhr|bor|bountrogue|bountyrogue|bountyhunterrogue|rogue|rogues|Bounty Hunter Rogues)$/Si)) { return Bounty Hunter Rogues }
n309=  if ($regex($1,/^(fog|fist|fisting|fistofguth|guth|guthix|fistofguthix|fist of guthix)$/Si)) { return Fist of Guthix }
n310=  if ($regex($1,/^(du|duel|tournament)$/Si)) { return Duel }
n311=  if ($regex($1,/^(mob?|mobilise|mobilising)(ar|army|armies|armys)?$/Si)) { return Mobilising Armies }
n312=  if ($regex($1,/^(st|sk|all|skill|skills|stat|stats|statistics)$/Si)) { return Stats }
n313=  if ($regex($1,/^(cb|cmb|comb|combat|warrior)$/Si)) { return Combat }
n314=  if ($regex($1,/^(ncb|noncmb|non-cmb|non-comb|noncomb|non-combat|noncombat|non-warrior)$/Si)) { return Noncmb }
n315=  if ($regex($1,/^(cm|cp|cmp|comp|compare)$/Si)) { return Compare }
n316=  if ($regex($1,/^(lvl|level|skill|skilltotal)$/Si)) { return SkillTotal }
n317=  if ($regex($1,/^(xp|exp|totalxp|totalexp)$/Si)) { return TotalXp }
n318=  if ($regex($1,/^(cmb%|combat%)$/Si)) { return combat% }
n319=  if ($regex($1,/^(p2p%)$/Si)) { return p2p% }
n320=  if ($regex($1,/^(f2p%)$/Si)) { return f2p% }
n321=  if ($regex($1,/^(sl%|slay%|slayer%)$/Si)) { return slayer% }
n322=  if ($regex($1,/^(skill%|skiller%)$/Si)) { return skiller% }
n323=  if ($regex($1,/^(pc%|pest%|pestcontrol%|pest control%)$/Si)) { return pest control% }
n324=  else { return NoMatch }
n325=}
n326=compares {
n327=  if ($regex($1,/^(at|att|attack)$/Si)) { return Attack }
n328=  if ($regex($1,/^(st|str|strength)$/Si)) { return Strength }
n329=  if ($regex($1,/^(de|def|defen[cs]e)$/Si)) { return Defence }
n330=  if ($regex($1,/^(hp|hits|hitpoint|hitpoints)$/Si)) { return Hitpoints }
n331=  if ($regex($1,/^(pr|pray|prayer)$/Si)) { return Prayer }
n332=  if ($regex($1,/^(ra|range|ranged|ranging)$/Si)) { return Ranged }
n333=  if ($regex($1,/^(ma|mage|magic)$/Si)) { return Magic }
n334=  if ($regex($1,/^(rc|runecraft|runecrafting|rune)$/Si)) { return Runecraft }
n335=  if ($regex($1,/^(con|cons|const|constr|construction)$/Si)) { return Construction }
n336=  if ($regex($1,/^(ag|agil|agility|agi)$/Si)) { return Agility }
n337=  if ($regex($1,/^(he|herb|herblore)$/Si)) { return Herblore }
n338=  if ($regex($1,/^(th|thieve|theive|thief|theif|thieving|theiving)$/Si)) { return Thieving }
n339=  if ($regex($1,/^(cr|craft|crafting)$/Si)) { return Crafting }
n340=  if ($regex($1,/^(sm|smd|smith|smithing)$/Si)) { return Smithing }
n341=  if ($regex($1,/^(hu|hunt|hunter|hunting)$/Si)) { return Hunter }
n342=  if ($regex($1,/^(fa|farm|farming)$/Si)) { return Farming }
n343=  if ($regex($1,/^(sl|slay|slayer|slaying)$/Si)) { return Slayer }
n344=  if ($regex($1,/^(mi|mine|mining)$/Si)) { return Mining }
n345=  if ($regex($1,/^(fm|fming|firemake|firemaking)$/Si)) { return Firemaking }
n346=  if ($regex($1,/^(fi|fish|fishing)$/Si)) { return Fishing }
n347=  if ($regex($1,/^(fl|fletch|fletching)$/Si)) { return Fletching }
n348=  if ($regex($1,/^(wc|wcing|wood|woodcutting|woodcut)$/Si)) { return Woodcutting }
n349=  if ($regex($1,/^(cok|cook|cooking|coo)$/Si)) { return Cooking }
n350=  if ($regex($1,/^(su|sum|summy|summon|summoning)$/Si)) { return Summoning }
n351=  if ($regex($1,/^(oa|overall|total)$/Si)) { return Overall }
n352=  if ($regex($1,/^(bh|bo|bount|bounty|bountyhunter|Bounty Hunter)$/Si)) { return Bounty Hunter }
n353=  if ($regex($1,/^(bhr|bor|bountrogue|bountyrogue|bountyhunterrogue|rogue|rogues|Bounty Hunter Rogues)$/Si)) { return Bounty Hunter Rogues }
n354=  if ($regex($1,/^(fog|fist|fisting|fistofguth|guth|guthix|fistofguthix|fist of guthix)$/Si)) { return Fist of Guthix }
n355=  if ($regex($1,/^(du|duel|tournament)$/Si)) { return Duel }
n356=  if ($regex($1,/^(mob?|mobilise|mobilising)(ar|army|armies|armys)?$/Si)) { return Mobilising Armies }
n357=  if ($regex($1,/^(st|sk|all|skill|skills|stat|stats|statistics)$/Si)) { return Stats }
n358=  if ($regex($1,/^(cb|cmb|comb|combat|warrior)$/Si)) { return Combat }
n359=  if ($regex($1,/^(cmb%|combat%)$/Si)) { return combat% }
n360=  if ($regex($1,/^(p2p%)$/Si)) { return p2p% }
n361=  if ($regex($1,/^(f2p%)$/Si)) { return f2p% }
n362=  if ($regex($1,/^(sl%|slay%|slayer%)$/Si)) { return slayer% }
n363=  if ($regex($1,/^(skill%|skiller%)$/Si)) { return skiller% }
n364=  if ($regex($1,/^(pc%|pest%|pestcontrol%|pest control%)$/Si)) { return pest control% }
n365=}
n366=lookups {
n367=  if ($regex($1,/^(at|att|attack)$/Si)) { return Attack }
n368=  if ($regex($1,/^(st|str|strength)$/Si)) { return Strength }
n369=  if ($regex($1,/^(de|def|defen[cs]e)$/Si)) { return Defence }
n370=  if ($regex($1,/^(hp|hits|hitpoint|hitpoints)$/Si)) { return Hitpoints }
n371=  if ($regex($1,/^(pr|pray|prayer)$/Si)) { return Prayer }
n372=  if ($regex($1,/^(ra|range|ranged|ranging)$/Si)) { return Ranged }
n373=  if ($regex($1,/^(ma|mage|magic)$/Si)) { return Magic }
n374=  if ($regex($1,/^(rc|runecraft|runecrafting|rune)$/Si)) { return Runecraft }
n375=  if ($regex($1,/^(con|cons|const|constr|construction)$/Si)) { return Construction }
n376=  if ($regex($1,/^(ag|agil|agility|agi)$/Si)) { return Agility }
n377=  if ($regex($1,/^(he|herb|herblore)$/Si)) { return Herblore }
n378=  if ($regex($1,/^(th|thieve|theive|thief|theif|thieving|theiving)$/Si)) { return Thieving }
n379=  if ($regex($1,/^(cr|craft|crafting)$/Si)) { return Crafting }
n380=  if ($regex($1,/^(sm|smd|smith|smithing)$/Si)) { return Smithing }
n381=  if ($regex($1,/^(hu|hunt|hunter|hunting)$/Si)) { return Hunter }
n382=  if ($regex($1,/^(fa|farm|farming)$/Si)) { return Farming }
n383=  if ($regex($1,/^(sl|slay|slayer|slaying)$/Si)) { return Slayer }
n384=  if ($regex($1,/^(mi|mine|mining)$/Si)) { return Mining }
n385=  if ($regex($1,/^(fm|fming|firemake|firemaking)$/Si)) { return Firemaking }
n386=  if ($regex($1,/^(fi|fish|fishing)$/Si)) { return Fishing }
n387=  if ($regex($1,/^(fl|fletch|fletching)$/Si)) { return Fletching }
n388=  if ($regex($1,/^(wc|wcing|wood|woodcutting|woodcut)$/Si)) { return Woodcutting }
n389=  if ($regex($1,/^(cok|cook|cooking|coo)$/Si)) { return Cooking }
n390=  if ($regex($1,/^(su|sum|summy|summon|summoning)$/Si)) { return Summoning }
n391=  if ($regex($1,/^(oa|overall|total)$/Si)) { return Overall }
n392=  if ($regex($1,/^(bh|bo|bount|bounty|bountyhunter|Bounty Hunter)$/Si)) { return Bounty Hunter }
n393=  if ($regex($1,/^(bhr|bor|bountrogue|bountyrogue|bountyhunterrogue|rogue|rogues|Bounty Hunter Rogues)$/Si)) { return Bounty Hunter Rogues }
n394=  if ($regex($1,/^(fog|fist|fisting|fistofguth|guth|guthix|fistofguthix|fist of guthix)$/Si)) { return Fist of Guthix }
n395=  if ($regex($1,/^(du|duel|tournament)$/Si)) { return Duel }
n396=  if ($regex($1,/^(mob?|mobilise|mobilising)(ar|army|armies|armys)?$/Si)) { return Mobilising Armies }
n397=  if ($regex($1,/^(st|sk|all|skill|skills|stat|stats|statistics)$/Si)) { return Stats }
n398=  if ($regex($1,/^(cb|cmb|comb|combat|warrior)$/Si)) { return Combat }
n399=  if ($regex($1,/^(ncb|noncmb|non-cmb|non-comb|noncomb|non-combat|noncombat|non-warrior)$/Si)) { return Noncmb }
n400=  if ($regex($1,/^(req|reqs|ssreq|ssreqs|requirements)$/Si)) { return reqs }
n401=  if ($regex($1,/^(le|left|lc|lcol|leftcol|leftcolumn)$/Si)) { return left }
n402=  if ($regex($1,/^(ri|right|rightc|rightcol|rightcolumn)$/Si)) { return right }
n403=  if ($regex($1,/^(mid|middle|midc|midcol|middlec|middlecol|middlecolumn)$/Si)) { return mid }
n404=  else { return NoMatch }
n405=}
n406=scores {
n407=  if ($regex($1,/^(at|att|attack)$/Si)) { return Attack }
n408=  if ($regex($1,/^(st|str|strength)$/Si)) { return Strength }
n409=  if ($regex($1,/^(de|def|defen[cs]e)$/Si)) { return Defence }
n410=  if ($regex($1,/^(hp|hits|hitpoint|hitpoints)$/Si)) { return Hitpoints }
n411=  if ($regex($1,/^(pr|pray|prayer)$/Si)) { return Prayer }
n412=  if ($regex($1,/^(ra|range|ranged|ranging)$/Si)) { return Ranged }
n413=  if ($regex($1,/^(ma|mage|magic)$/Si)) { return Magic }
n414=  if ($regex($1,/^(rc|runecraft|runecrafting|rune)$/Si)) { return Runecraft }
n415=  if ($regex($1,/^(con|cons|const|constr|construction)$/Si)) { return Construction }
n416=  if ($regex($1,/^(ag|agil|agility|agi)$/Si)) { return Agility }
n417=  if ($regex($1,/^(he|herb|herblore)$/Si)) { return Herblore }
n418=  if ($regex($1,/^(th|thieve|theive|thief|theif|thieving|theiving)$/Si)) { return Thieving }
n419=  if ($regex($1,/^(cr|craft|crafting)$/Si)) { return Crafting }
n420=  if ($regex($1,/^(sm|smd|smith|smithing)$/Si)) { return Smithing }
n421=  if ($regex($1,/^(hu|hunt|hunter|hunting)$/Si)) { return Hunter }
n422=  if ($regex($1,/^(fa|farm|farming)$/Si)) { return Farming }
n423=  if ($regex($1,/^(sl|slay|slayer|slaying)$/Si)) { return Slayer }
n424=  if ($regex($1,/^(mi|mine|mining)$/Si)) { return Mining }
n425=  if ($regex($1,/^(fm|fming|firemake|firemaking)$/Si)) { return Firemaking }
n426=  if ($regex($1,/^(fi|fish|fishing)$/Si)) { return Fishing }
n427=  if ($regex($1,/^(fl|fletch|fletching)$/Si)) { return Fletching }
n428=  if ($regex($1,/^(wc|wcing|wood|woodcutting|woodcut)$/Si)) { return Woodcutting }
n429=  if ($regex($1,/^(cok|cook|cooking|coo)$/Si)) { return Cooking }
n430=  if ($regex($1,/^(su|sum|summy|summon|summoning)$/Si)) { return Summoning }
n431=  if ($regex($1,/^(oa|overall|total)$/Si)) { return Overall }
n432=  if ($regex($1,/^(bh|bo|bount|bounty|bountyhunter|Bounty Hunter)$/Si)) { return Bounty Hunter }
n433=  if ($regex($1,/^(bhr|bor|bountrogue|bountyrogue|bountyhunterrogue|rogue|rogues|Bounty Hunter Rogues)$/Si)) { return Bounty Hunter Rogues }
n434=  if ($regex($1,/^(fog|fist|fisting|fistofguth|guth|guthix|fistofguthix|fist of guthix)$/Si)) { return Fist of Guthix }
n435=  if ($regex($1,/^(du|duel|tournament)$/Si)) { return Duel }
n436=  if ($regex($1,/^(mob?|mobilise|mobilising)(ar|army|armies|armys)?$/Si)) { return Mobilising Armies }
n437=  else { return NoMatch }
n438=}
n439=skills {
n440=  if ($regex($1,/^(at|att|attack)$/Si)) { return Attack }
n441=  if ($regex($1,/^(st|str|strength)$/Si)) { return Strength }
n442=  if ($regex($1,/^(de|def|defen[cs]e)$/Si)) { return Defence }
n443=  if ($regex($1,/^(hp|hits|hitpoint|hitpoints)$/Si)) { return Hitpoints }
n444=  if ($regex($1,/^(pr|pray|prayer)$/Si)) { return Prayer }
n445=  if ($regex($1,/^(ra|range|ranged|ranging|rang)$/Si)) { return Ranged }
n446=  if ($regex($1,/^(ma|mage|magic)$/Si)) { return Magic }
n447=  if ($regex($1,/^(rc|runecraft|runecrafting|rune)$/Si)) { return Runecraft }
n448=  if ($regex($1,/^(con|cons|const|constr|construct|construction)$/Si)) { return Construction }
n449=  if ($regex($1,/^(ag|agil|agility|agi)$/Si)) { return Agility }
n450=  if ($regex($1,/^(he|herb|herblore)$/Si)) { return Herblore }
n451=  if ($regex($1,/^(th|thieve|theive|thief|theif|thieving|theiving)$/Si)) { return Thieving }
n452=  if ($regex($1,/^(cr|craft|crafting)$/Si)) { return Crafting }
n453=  if ($regex($1,/^(sm|smd|smith|smithing)$/Si)) { return Smithing }
n454=  if ($regex($1,/^(hu|hunt|hunter|hunting)$/Si)) { return Hunter }
n455=  if ($regex($1,/^(fa|farm|farming)$/Si)) { return Farming }
n456=  if ($regex($1,/^(sl|slay|slayer|slaying)$/Si)) { return Slayer }
n457=  if ($regex($1,/^(mi|mine|mining)$/Si)) { return Mining }
n458=  if ($regex($1,/^(fm|fming|firemake|firemaking)$/Si)) { return Firemaking }
n459=  if ($regex($1,/^(fi|fish|fishing)$/Si)) { return Fishing }
n460=  if ($regex($1,/^(fl|fletch|fletching)$/Si)) { return Fletching }
n461=  if ($regex($1,/^(wc|wcing|wood|woodcutting|woodcut)$/Si)) { return Woodcutting }
n462=  if ($regex($1,/^(cok|cook|cooking|coo)$/Si)) { return Cooking }
n463=  if ($regex($1,/^(su|sum|summy|summon|summoning)$/Si)) { return Summoning }
n464=  if ($regex($1,/^(oa|overall|total)$/Si)) { return Overall }
n465=  else { return NoMatch }
n466=}
n467=minigames {
n468=  if ($regex($1,/^(bh|bo|bount|bounty|bountyhunter|Bounty Hunter)$/Si)) { return Bounty Hunter }
n469=  if ($regex($1,/^(bhr|bor|bountrogue|bountyrogue|bountyhunterrogue|rogue|rogues|Bounty Hunter Rogues)$/Si)) { return Bounty Hunter Rogues }
n470=  if ($regex($1,/^(fog|fist|fisting|fistofguth|guth|guthix|fistofguthix|fist of guthix)$/Si)) { return Fist of Guthix }
n471=  if ($regex($1,/^(du|duel|tournament)$/Si)) { return Duel }
n472=  if ($regex($1,/^(mob?|mobilise|mobilising) ?(ar|army|armies|armys)?$/Si)) { return Mobilising Armies }
n473=  else { return NoMatch }
n474=}
n475=misc {
n476=  if ($regex($1,/^(st|sk|all|skill|skills|stat|stats|statistics)$/Si)) { return Stats }
n477=  if ($regex($1,/^(cb|cmb|comb|combat|warrior)$/Si)) { return Combat }
n478=  if ($regex($1,/^(ncb|noncmb|non-cmb|non-comb|noncomb|non-combat|noncombat|non-warrior)$/Si)) { return Noncmb }
n479=  if ($regex($1,/^(cm|cp|cmp|comp|compare)$/Si)) { return Compare }
n480=  if ($regex($1,/^(ne|next|nextlvl|nextlevel|close|cl|closest)$/Si)) { return Next }
n481=  if ($regex($1,/^(hi|high|highest|lo|low|lowest|hilow|hilo|highlow)$/Si)) { return Hilow }
n482=  if ($regex($1,/^(le|left|lc|lcol|leftcol|leftcolumn)$/Si)) { return left }
n483=  if ($regex($1,/^(ri|right|rightc|rightcol|rightcolumn)$/Si)) { return right }
n484=  if ($regex($1,/^(mid|middle|midc|midcol|middlec|middlecol|middlecolumn)$/Si)) { return mid }
n485=  if ($regex($1,/^(cmb%|combat%)$/Si)) { return combat% }
n486=  if ($regex($1,/^(p2p%)$/Si)) { return p2p% }
n487=  if ($regex($1,/^(f2p%)$/Si)) { return f2p% }
n488=  if ($regex($1,/^(sl%|slay%|slayer%)$/Si)) { return slayer% }
n489=  if ($regex($1,/^(skill%|skiller%)$/Si)) { return skiller% }
n490=  if ($regex($1,/^(pc%|pest%|pestcontrol%|pest control%)$/Si)) { return pest control% }
n491=  else { return NoMatch }
n492=}
n493=perc {
n494=  if ($regex($1,/^(cmb%|combat%)$/Si)) { return combat% }
n495=  if ($regex($1,/^(p2p%)$/Si)) { return p2p% }
n496=  if ($regex($1,/^(f2p%)$/Si)) { return f2p% }
n497=  if ($regex($1,/^(sl%|slay%|slayer%)$/Si)) { return slayer% }
n498=  if ($regex($1,/^(skill%|skiller%)$/Si)) { return skiller% }
n499=  if ($regex($1,/^(pc%|pest%|pestcontrol%|pest control%)$/Si)) { return pest control% }
n500=  else { return nomatch }
n501=}
n502=state {
n503=  if ($regex($remove($1,@),/^(r|ra|ran|rank|ranking)$/Si)) { return 1 }
n504=  if ($regex($remove($1,@),/^(l|lv|lvl|level)$/Si)) { return 2 }
n505=  if ($regex($remove($1,@),/^(x|xp|ex|exp|experience)$/Si)) { return 3 }
n506=  if ($regex($remove($1,@),/^(v|vi|vir|virt|virtual)$/Si)) { return 4 }
n507=  else { return 2 }
n508=}
n509=ltracks {
n510=  if ($regex($remove($1,@),/^(yday|yesterday)$/Si)) { return Yesterday }
n511=  if ($regex($remove($1,@),/^(lweek|lastweek)$/Si)) { return Lastweek }
n512=  if ($regex($remove($1,@),/^(lmonth|lastmonth)$/Si)) { return Lastmonth }
n513=  if ($regex($remove($1,@),/^(lyear|lastyear)$/Si)) { return Lastyear }
n514=  else { return NoMatch }
n515=}
n516=tracks {
n517=  if ($regex($remove($1,@),/^(2day|today)$/Si)) { return Today }
n518=  if ($regex($remove($1,@),/^(week)$/Si)) { return Week }
n519=  if ($regex($remove($1,@),/^(month)$/Si)) { return Month }
n520=  if ($regex($remove($1,@),/^(year)$/Si)) { return Year }
n521=  else { return NoMatch }
n522=}
n523=statn {
n524=  if ($skills($1) == overall) { return 11 }
n525=  if ($skills($1) == attack) { return 12 }
n526=  if ($skills($1) == strength) { return 14 }
n527=  if ($skills($1) == defence) { return 13 }
n528=  if ($skills($1) == hitpoints) { return 15 }
n529=  if ($skills($1) == ranged) { return 16 }
n530=  if ($skills($1) == prayer) { return 17 }
n531=  if ($skills($1) == magic) { return 18 }
n532=  if ($skills($1) == cooking) { return 19 }
n533=  if ($skills($1) == woodcutting) { return 20 }
n534=  if ($skills($1) == fletching) { return 21 }
n535=  if ($skills($1) == fishing) { return 22 }
n536=  if ($skills($1) == firemaking) { return 23 }
n537=  if ($skills($1) == crafting) { return 24 }
n538=  if ($skills($1) == smithing) { return 25 }
n539=  if ($skills($1) == mining) { return 26 }
n540=  if ($skills($1) == herblore) { return 27 }
n541=  if ($skills($1) == agility) { return 28 }
n542=  if ($skills($1) == thieving) { return 29 }
n543=  if ($skills($1) == slayer) { return 30 }
n544=  if ($skills($1) == farming) { return 31 }
n545=  if ($skills($1) == runecraft) { return 32 }
n546=  if ($skills($1) == hunter) { return 33 }
n547=  if ($skills($1) == construction) { return 34 }
n548=  if ($skills($1) == summoning) { return 35 }
n549=  if ($minigames($1) == Duel) { return 36 }
n550=  if ($minigames($1) == Bounty Hunter) { return 37 }
n551=  if ($minigames($1) == Bounty Hunter Rogues) { return 38 }
n552=  if ($minigames($1) == Fist Of Guthix) { return 39 }
n553=  if ($minigames($1) == Mobilising Armies) { return 40 }
n554=}
n555=statnum {
n556=  if ($skills($1) == overall) { return 1 }
n557=  if ($skills($1) == attack) { return 2 }
n558=  if ($skills($1) == strength) { return 4 }
n559=  if ($skills($1) == defence) { return 3 }
n560=  if ($skills($1) == hitpoints) { return 5 }
n561=  if ($skills($1) == ranged) { return 6 }
n562=  if ($skills($1) == prayer) { return 7 }
n563=  if ($skills($1) == magic) { return 8 }
n564=  if ($skills($1) == cooking) { return 9 }
n565=  if ($skills($1) == woodcutting) { return 10 }
n566=  if ($skills($1) == fletching) { return 11 }
n567=  if ($skills($1) == fishing) { return 12 }
n568=  if ($skills($1) == firemaking) { return 13 }
n569=  if ($skills($1) == crafting) { return 14 }
n570=  if ($skills($1) == smithing) { return 15 }
n571=  if ($skills($1) == mining) { return 16 }
n572=  if ($skills($1) == herblore) { return 17 }
n573=  if ($skills($1) == agility) { return 18 }
n574=  if ($skills($1) == thieving) { return 19 }
n575=  if ($skills($1) == slayer) { return 20 }
n576=  if ($skills($1) == farming) { return 21 }
n577=  if ($skills($1) == runecraft) { return 22 }
n578=  if ($skills($1) == hunter) { return 23 }
n579=  if ($skills($1) == construction) { return 24 }
n580=  if ($skills($1) == summoning) { return 25 }
n581=  if ($minigames($1) == Duel) { return 26 }
n582=  if ($minigames($1) == Bounty Hunter) { return 27 }
n583=  if ($minigames($1) == Bounty Hunter Rogues) { return 28 }
n584=  if ($minigames($1) == Fist Of Guthix) { return 29 }
n585=  if ($minigames($1) == Mobilising Armies) { return 30 }
n586=  if ($1 == 1) { return overall }
n587=  if ($1 == 2) { return attack }
n588=  if ($1 == 3) { return defence }
n589=  if ($1 == 4) { return strength }
n590=  if ($1 == 5) { return hitpoints }
n591=  if ($1 == 6) { return ranged }
n592=  if ($1 == 7) { return prayer }
n593=  if ($1 == 8) { return magic }
n594=  if ($1 == 9) { return cooking }
n595=  if ($1 == 10) { return woodcutting }
n596=  if ($1 == 11) { return fletching }
n597=  if ($1 == 12) { return fishing }
n598=  if ($1 == 13) { return firemaking }
n599=  if ($1 == 14) { return crafting }
n600=  if ($1 == 15) { return smithing }
n601=  if ($1 == 16) { return mining }
n602=  if ($1 == 17) { return herblore }
n603=  if ($1 == 18) { return agility }
n604=  if ($1 == 19) { return thieving }
n605=  if ($1 == 20) { return slayer }
n606=  if ($1 == 21) { return farming }
n607=  if ($1 == 22) { return runecraft }
n608=  if ($1 == 23) { return hunter }
n609=  if ($1 == 24) { return construction }
n610=  if ($1 == 25) { return summoning }
n611=  if ($1 == 26) { return duel }
n612=  if ($1 == 27) { return bounty hunter }
n613=  if ($1 == 28) { return bounty hunter rogues }
n614=  if ($1 == 29) { return fist of guthix }
n615=  if ($1 == 30) { return mobilising armies }
n616=}
n617=cutey {
n618=  if ($regex($1,/^(xp|exp|experience)$/Si)) { return xp }
n619=  if ($regex($1,/^(ra|rank|ranking)$/Si)) { return rank }
n620=  if ($regex($1,/^(ne|next|close|closest|nextlvl|nextlevel)$/Si)) { return next }
n621=}
n622=catno {
n623=  if ($1 != duel && $1 != bounty hunter && $1 != bounty hunter rogues && $1 != fist of guthix && $1 != mobilising armies) { return 0 }
n624=  if ($1 == duel || $1 == bounty hunter || $1 == bounty hunter rogues || $1 == fist of guthix || $1 == mobilising armies) { return 1 }
n625=}
n626=smartno {
n627=  if ($1 == Attack) { return 1 }
n628=  if ($1 == Defence) { return 2 }
n629=  if ($1 == Strength) { return 3 }
n630=  if ($1 == Hitpoints) { return 4 }
n631=  if ($1 == Ranged) { return 5 }
n632=  if ($1 == Prayer) { return 6 }
n633=  if ($1 == Magic) { return 7 }
n634=  if ($1 == Cooking) { return 8 }
n635=  if ($1 == Woodcutting) { return 9 }
n636=  if ($1 == Fletching) { return 10 }
n637=  if ($1 == Fishing) { return 11 }
n638=  if ($1 == Firemaking) { return 12 }
n639=  if ($1 == Crafting) { return 13 }
n640=  if ($1 == Smithing) { return 14 }
n641=  if ($1 == Mining) { return 15 }
n642=  if ($1 == Herblore) { return 16 }
n643=  if ($1 == Agility) { return 17 }
n644=  if ($1 == Thieving) { return 18 }
n645=  if ($1 == Slayer) { return 19 }
n646=  if ($1 == Farming) { return 20 }
n647=  if ($1 == Runecraft) { return 21 }
n648=  if ($1 == Hunter) { return 22 }
n649=  if ($1 == Construction) { return 23 }
n650=  if ($1 == summoning) { return 24 }
n651=  if ($1 == Overall) { return 0 }
n652=  if ($1 == duel) { return 0 }
n653=  if ($1 == bounty hunter) { return 1 }
n654=  if ($1 == bounty hunter Rogues) { return 2 }
n655=  if ($1 == fist of guthix) { return 3 }
n656=  if ($1 == mobilising armies) { return 4 }
n657=  else { return NoMatch }
n658=}
n659=virt {
n660=  if ($1 !isnum) { return 0 }
n661=  var %xp = 0
n662=  var %lvl = 0
n663=  while ($floor($calc(%xp /4)) <= $1 && %lvl < 99) {
n664=    inc %lvl
n665=    %xp = $calc(%xp + %lvl + $floor($calc(300 * 2 ^ (%lvl / 7))))
n666=  }
n667=  return %lvl
n668=}
n669=virtual {
n670=  if ($1 !isnum) { return 0 }
n671=  var %xp = 0
n672=  var %lvl = 0
n673=  while ($floor($calc(%xp /4)) <= $1) {
n674=    inc %lvl
n675=    %xp = $calc(%xp + %lvl + $floor($calc(300 * 2 ^ (%lvl / 7))))
n676=  }
n677=  return %lvl
n678=}
n679=xptolvl {
n680=  if ($1 !isnum) { return 0 }
n681=  if ($1 < 0) { return 0 }
n682=  var %xp = 0
n683=  var %lvl = 0
n684=  while ($floor($calc(%xp /4)) <= $1) {
n685=    inc %lvl
n686=    %xp = $calc(%xp + %lvl + $floor($calc(300 * 2 ^ (%lvl / 7))))
n687=  }
n688=  return %lvl
n689=}
n690=lvltoxp {
n691=  if ($1 == max || $1 > 126) { return 200000000 }
n692=  if ($1 !isnum || $1 < 1) { return 0 }
n693=  var %xp = 0, %lvl = $calc($floor($1) - 1)
n694=  while (%lvl) {
n695=    %xp = $calc(%xp + %lvl + $floor($calc(300 * 2 ^ (%lvl / 7))))
n696=    dec %lvl
n697=  }
n698=  return $floor($calc(%xp / 4))
n699=}
n700=lvlceil {
n701=  var %xp = $litecalc($1)
n702=  var %lvlfloor = $xptolvl(%xp)
n703=  var %lvlceil = $calc(%lvlfloor + 1)
n704=  return %lvlceil
n705=}
n706=format_number {
n707=  if ($1 > 950000) {
n708=    return $round($calc( $1 / 1000000 ),2) $+ m
n709=  }
n710=  if ($1 > 9500) {
n711=    return $round($calc( $1 / 1000 ),2) $+ k
n712=  }
n713=  return $1
n714=}
n715=;$calccombat(att, def, str, hp, range, pray, mage, sum)
n716=calccombat {
n717=  var %base = $calc( 0.25 * $regsubex($2,/~\d+/,1) + 0.25 * $regsubex($4,/~\d+/,10) + $floor($calc($regsubex($6,/~\d+/,1) / 2)) * 0.25 + $floor($calc($regsubex($8,/~\d+/,1) / 2)) * 0.25 )
n718=  var %gbase = $calc( $remove(0.25 * $2 + 0.25 * $4,~) + $floor($calc($remove($6,~) / 2)) * 0.25 + $floor($calc($remove($8,~) / 2)) * 0.25 )
n719=  var %melee = $calc(0.325 * $regsubex($1,/~\d+/,1) + 0.325 * $regsubex($3,/~\d+/,1))
n720=  var %gmelee = $calc($remove(0.325 * $1 + 0.325 * $3,~))
n721=  var %mage = $calc(0.325 * $floor($calc($regsubex($7,/~\d+/,1) * 1.5)))
n722=  var %gmage = $calc(0.325 * $floor($calc($remove($7,~) * 1.5)))
n723=  var %range = $calc( 0.325 * $floor($calc($regsubex($5,/~\d+/,1) * 1.5)) )
n724=  var %grange = $calc( 0.325 * $floor($calc($remove($5,~) * 1.5)) )
n725=  var %class
n726=  if (%melee > %mage && %melee > %range) { %class = Melee }
n727=  else if (%mage > %melee && %mage > %range) { %class = Mage }
n728=  else if (%range > %melee && %range > %mage) { %class = Range }
n729=  else { %class = Hybrid }
n730=  var %p2p = $calc($gettok($sorttok(%melee %mage %range,32,nr),1,32) + %base)
n731=  var %f2p = $calc($gettok($sorttok(%melee %mage %range,32,nr),1,32) + %base - $floor($calc($8 / 2)) * 0.25)
n732=  var %gp2p = $calc($gettok($sorttok(%gmelee %gmage %grange,32,nr),1,32) + %gbase)
n733=  var %gf2p = $calc($gettok($sorttok(%gmelee %gmage %grange,32,nr),1,32) + %gbase - $floor($calc($remove($8,~) / 2)) * 0.25)
n734=  if ($prop == class) { return %class }
n735=  if ($prop == all) { return $c(07) $+ $iif($9,$c(07) $+ $bytes($9,db) $+ $c $+ ,$floor(%p2p) $+ $c $+ ( $+ $c(07) $+ ~ $+ $floor(%gp2p) $+ $c $+ )) combat ( $+ $c(07) $+ %class $+ $c $+ ); }
n736=  if ($prop == p2p) { return %p2p }
n737=  if ($prop == f2p) { return %f2p }
n738=  if ($prop == gf2p) { return %gf2p }
n739=  if ($prop == gp2p) { return %gp2p }
n740=}
